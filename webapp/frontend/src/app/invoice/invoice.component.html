<!-- Author: Alexander Fuchs -->
<div *ngIf="orders.loaded" class="d-flex flex-column mx-auto">
  <h1 class="h1 mb-3 text-center">Rechnungen</h1>

  <form [formGroup]="ordersForm" (ngSubmit)="onSubmit()">
    <table class="table align-middle table-striped">
      <thead>
      <tr>
        <th *ngFor="let column of orders.columns" scope="col">{{column}}</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let order of orders.data">
        <td *ngFor="let value of order">{{value}}</td>
        <td><input class="form-check-input" [formControlName]="order[0]" type="checkbox"></td>
      </tr>
      </tbody>
    </table>

    <button class="btn btn-success w-100 mx-auto mt-3 py-2 send-button" type="submit">Senden per Mail</button>
  </form>

  <div class="modal fade" id="status" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="h1 fw-normal" id="exampleModalLabel">Status</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <h1 *ngIf="response.success" class="h5 fw-normal text-center">Die Rechnungen werden fÃ¼r Sie generiert und
            treffen in wenigen Minuten per Mail
            ein.</h1>
          <h1 *ngIf="!response.success" class="h5 fw-normal text-center">Die Generierung der Rechnungen war nicht
            erfolgreich.</h1>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-success send-button" data-bs-dismiss="modal">Okay</button>
        </div>
      </div>
    </div>
  </div>
</div>
